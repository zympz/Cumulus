<apex:page standardController="Opportunity" 
    extensions="OPP_SendAcknowledgmentBTN_CTRL"
    recordSetVar="listOpp"
    action="{!SendAcknowledgment}"
    standardStylesheets="true"
    title="{!$Label.sendAcknowledgmentPageTitle}"
    docType="html-5.0">

    <apex:slds />
    
    <apex:form id="vfForm">
        <div class="slds">
            <!-- PAGE HEADER -->
            <c:UTIL_PageHeader headerLabel="{!$ObjectType.Opportunity.Label}"
                               header="{!$Label.sendAcknowledgmentPageTitle}"
                               icon="opportunity_120" iconCategory="standard"
                               showSaveBtn="false" cancelLabel="{!$Label.bdiBtnClose}"
                               cancelAction="{!close}" cancelReRender="vfForm"/>

            <!-- PAGE MESSAGE -->
            <c:UTIL_PageMessages />
            <!-- PAGE RETURN -->
            <c:UTIL_NavigateBack recordId="{!recordId}" redirect="{!redirect}"/>
            <!-- FAILED EMAILS -->
            <apex:outputPanel rendered="{!cNotSent > 0}">
                <div class="slds-grid">
                    <div class="slds-col slds-size_1-of-1 slds-m-around_medium">
                        <p class="slds-m-top_x-small slds-p-bottom_small"><apex:outputText value="{!$Label.sendAcknowledgmentFailureReasons}" escape="false"/></p>
                        <ul class="slds-list_dotted">
                            <apex:repeat value="{!listOppNotSent}" var="opp">
                                <li class="slds-item">
                                    <a href="/{!opp.Id}" target="_blank">{!opp.Name}</a>
                                </li>
                            </apex:repeat>
                        </ul>
                    </div>
                </div>
            </apex:outputPanel>
        </div>
    </apex:form>
</apex:page>